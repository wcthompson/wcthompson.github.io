<!DOCTYPE html>
<link rel="stylesheet" type="text/css" href="css/style.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<html>
<head>
  <title>hey,</title>
</head>
<body>
<main>
  <div id="navbox">
  <button id="name" class="draw">
    WILLIAM THOMPSON
  </button>
  <ul id="menu">
    <li class="menu-item scanlines">About</li>
    <li class="menu-item scanlines">Things</li>
  </ul>
  <div id="links">
    <div class="icon" id="tumblr"></div>
    <div class="icon" id="email"></div>
  </div>
  </div>

  <div id="section-container">
    <h2 id="section-title"></h2>
    <div id="section-content" class="scanlines">
    </div>
  </div>
</main>

</body>

<script type="text/javascript">
  var isLeft = false;

   $.ajaxSetup({
    cache: false
  }); // REMOVE ME

  function showMenu() {
    $( "#navbox" ).promise().done(function() {
      var eT=0;
      $('.menu-item').each(function() {
          $(this).delay(eT).fadeIn('slow');
          eT += 350;
      });
      $('#links').delay(eT).fadeIn('slow');
    });
  }

  function changeAboutContent(title) {
    if (title === $('#section-title').text()) {
      return;
    }
    $('#section-title').fadeOut(200);
    //when body fades out, change text, then fade in
    $.when( $('#section-container').fadeOut(200) ).done(function() {
      $('#section-title').text(title)

      if (title === 'Things') {
        $.get("things.html", function(text) {
          $('#section-content').html(text)
        });

      } else if (title === 'About') {
        $.get("about.html", function(text) {
          console.log(text);
          $('#section-content').html(text)
        });
      }

    $('#section-title').fadeIn(200);
    $('#section-container').fadeIn(200);
    });
  }

  $('.menu-item').hide();
  $('#links').hide();
  $('#section-container').hide();

  $("#name").click(function () {
    $("#name").removeClass('draw');
    $("#name").css('border', '2px solid #60daaa');
    $("#name").css('box-shadow', 'none');
    if(!isLeft){
      $("#navbox").animate({left:150});
       isLeft = true;
       showMenu();
    }
  });

  $('.menu-item').click(function() {
    var title = $(this).text();
    changeAboutContent(title);
  });

  $('.thumb').click(function () {
    return;
  });

</script>
</html>
